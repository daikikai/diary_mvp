{% extends "base.html" %}
{% block content %}
<h1>エントリ一覧</h1>

<form method="get" action="{{ url_for('index') }}" style="margin:.5rem 0 1rem">
  <input type="text" name="q" placeholder="検索（タイトル・本文）" value="{{ q or '' }}">
  <button type="submit">検索</button>
</form>

<p><small>全{{ total or 0 }}件 ・ Page {{ page }}/{{ total_pages }}</small></p>

<ul>
  {% for e in entries %}
    <li>
      <a href="{{ url_for('detail', entry_id=e.id) }}">{{ e.title }}</a>
      <small>（{{ e.created_at.strftime('%Y-%m-%d %H:%M') }}）</small>
    </li>
  {% else %}
    <li>まだありません。</li>
  {% endfor %}
</ul>

<nav style="margin-top:1rem">
  {% if page > 1 %}
    <a href="{{ url_for('index', q=q, page=page-1) }}">← 前へ</a>
  {% endif %}
  {% if has_next %}
    <a href="{{ url_for('index', q=q, page=page+1) }}" style="margin-left:1rem">次へ →</a>
  {% endif %}
</nav>
{% endblock %}
